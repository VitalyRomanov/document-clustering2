# -*- coding: utf-8 -*-

import re
import nltk
from nltk import word_tokenize
from nltk import tokenize
from bs4 import BeautifulSoup
import pymorphy2


# nltk stemmer filters out many words


class RuTok:
    def __init__(self):
        self.stemmer = nltk.stem.snowball.RussianStemmer()
        self.tokenizer = tokenize.toktok.ToktokTokenizer()
        self.morph = pymorphy2.MorphAnalyzer()

    def tokenize(self,doc,filter_stopwords=True,filter_punct=True,normalize=True,strip_html=True):
        text = doc
        if strip_html:
            soup = BeautifulSoup(doc,'html.parser')
            text = soup.get_text()
        tokens = self.tokenizer.tokenize(text)
        if filter_punct:
            PUNCT = re.compile(u'^((?![,.:;"/()\[\]\'\{\}_=*+&@]).)*$')
            tokens = list(filter(PUNCT.search,tokens))
        if normalize:
            tokens = list(map(self.word_normalize,tokens))
        if filter_stopwords:
            tokens = list(filter(lambda x: x not in STOPWORDS_RU_RAW,tokens))
        return tokens

    def word_normalize(self,word):
        return self.morph.parse(word)[0].normal_form

def get_document_words(document):
    # Simple tokenization without normalization
    tokens = re.split(r"[^0-9А-Яа-я]", document.lower())
    return tokens

def filter_ru(tokens):
    tokens = list(filter(lambda x: x!= '', tokens))
    tokens = list(filter(lambda x: x not in STOPWORDS_RU_STEMMED, tokens))
    return tokens

def chunk_text(doc,chunking):
    if chunking == 'words':
        chunks = get_document_words(doc)
    elif chunking == 'lines':
        chunks = doc.split("\n")
    else:
        raise NotImplemented
    return chunks


STOPWORDS_RU_RAW = ['c','а','алло','без','белый','близко','более','больше','большой','будем','будет','будете','будешь','будто','буду','будут','будь','бы','бывает','бывь','был','была','были','было','быть','в','важная','важное','важные','важный','вам','вами','вас','ваш','ваша','ваше','ваши','вверх','вдали','вдруг','ведь','везде','вернуться','весь','вечер','взгляд','взять','вид','видел','видеть','вместе','вне','вниз','внизу','во','вода','война','вокруг','вон','вообще','вопрос','восемнадцатый','восемнадцать','восемь','восьмой','вот','впрочем','времени','время','все','все еще','всегда','всего','всем','всеми','всему','всех','всею','всю','всюду','вся','всё','второй','вы','выйти','г','где','главный','глаз','говорил','говорит','говорить','год','года','году','голова','голос','город','да','давать','давно','даже','далекий','далеко','дальше','даром','дать','два','двадцатый','двадцать','две','двенадцатый','двенадцать','дверь','двух','девятнадцатый','девятнадцать','девятый','девять','действительно','дел','делал','делать','делаю','дело','день','деньги','десятый','десять','для','до','довольно','долго','должен','должно','должный','дом','дорога','друг','другая','другие','других','друго','другое','другой','думать','душа','е','его','ее','ей','ему','если','есть','еще','ещё','ею','её','ж','ждать','же','жена','женщина','жизнь','жить','за','занят','занята','занято','заняты','затем','зато','зачем','здесь','земля','знать','значит','значить','и','иди','идти','из','или','им','имеет','имел','именно','иметь','ими','имя','иногда','их','к','каждая','каждое','каждые','каждый','кажется','казаться','как','какая','какой','кем','книга','когда','кого','ком','комната','кому','конец','конечно','которая','которого','которой','которые','который','которых','кроме','кругом','кто','куда','лежать','лет','ли','лицо','лишь','лучше','любить','люди','м','маленький','мало','мать','машина','между','меля','менее','меньше','меня','место','миллионов','мимо','минута','мир','мира','мне','много','многочисленная','многочисленное','многочисленные','многочисленный','мной','мною','мог','могу','могут','мож','может','может быть','можно','можхо','мои','мой','мор','москва','мочь','моя','моё','мы','на','наверху','над','надо','назад','наиболее','найти','наконец','нам','нами','народ','нас','начала','начать','наш','наша','наше','наши','не','него','недавно','недалеко','нее','ней','некоторый','нельзя','нем','немного','нему','непрерывно','нередко','несколько','нет','нею','неё','ни','нибудь','ниже','низко','никакой','никогда','никто','никуда','ним','ними','них','ничего','ничто','но','новый','нога','ночь','ну','нужно','нужный','нх','о','об','оба','обычно','один','одиннадцатый','одиннадцать','однажды','однако','одного','одной','оказаться','окно','около','он','она','они','оно','опять','особенно','остаться','от','ответить','отец','откуда','отовсюду','отсюда','очень','первый','перед','писать','плечо','по','под','подойди','подумать','пожалуйста','позже','пойти','пока','пол','получить','помнить','понимать','понять','пор','пора','после','последний','посмотреть','посреди','потом','потому','почему','почти','правда','прекрасно','при','про','просто','против','процентов','путь','пятнадцатый','пятнадцать','пятый','пять','работа','работать','раз','разве','рано','раньше','ребенок','решить','россия','рука','русский','ряд','рядом','с','с кем','сам','сама','сами','самим','самими','самих','само','самого','самой','самом','самому','саму','самый','свет','свое','своего','своей','свои','своих','свой','свою','сделать','сеаой','себе','себя','сегодня','седьмой','сейчас','семнадцатый','семнадцать','семь','сидеть','сила','сих','сказал','сказала','сказать','сколько','слишком','слово','случай','смотреть','сначала','снова','со','собой','собою','советский','совсем','спасибо','спросить','сразу','стал','старый','стать','стол','сторона','стоять','страна','суть','считать','т','та','так','такая','также','таки','такие','такое','такой','там','твои','твой','твоя','твоё','те','тебе','тебя','тем','теми','теперь','тех','то','тобой','тобою','товарищ','тогда','того','тоже','только','том','тому','тот','тою','третий','три','тринадцатый','тринадцать','ту','туда','тут','ты','тысяч','у','увидеть','уж','уже','улица','уметь','утро','хороший','хорошо','хотел бы','хотеть','хоть','хотя','хочешь','час','часто','часть','чаще','чего','человек','чем','чему','через','четвертый','четыре','четырнадцатый','четырнадцать','что','чтоб','чтобы','чуть','шестнадцатый','шестнадцать','шестой','шесть','эта','эти','этим','этими','этих','это','этого','этой','этом','этому','этот','эту','я','являюсь']

STOPWORDS_RU_STEMMED = ['ден', 'одиннадцат', 'вид', 'нет', 'дар', 'ни', 'будт', 'последн', 'восем', 'машин', 'друг', 'душ', 'ты', 'стар', 'всюд', 'тог', 'у', 'город', 'сут', 'к', 'над', 'говор', 'недалек', 'посл', 'нич', 'никуд', 'нибуд', 'такж', 'процент', 'давн', 'перед', 'ли', 'две', 'товарищ', 'больш', 'хотет', 'вне', 'ту', 'их', 'тоб', 'тринадцат', 'сказа', 'бы', 'пожалуйст', 'мел', 'свет', 'ниж', 'кто', 'тво', 'т', 'помн', 'г', 'алл', 'ребенок', 'межд', 'голов', 'мог', 'бел', 'будет', 'один', 'случа', 'ж', 'пут', 'восемнадца', 'работ', 'скольк', 'бол', 'вечер', 'при', 'лиш', 'сидет', 'ком', 'недавн', 'снов', 'ве', 'ког', 'чем', 'всем', 'теб', 'как', 'пят', 'для', 'стат', 'войн', 'поч', 'без', 'сраз', 'тепер', 'по', 'никогд', 'е', 'восьм', 'вам', 'книг', 'голос', 'сил', 'сдела', 'мал', 'а', 'оста', 'однак', 'кром', 'пойт', 'позж', 'дальш', 'в', 'вернут', 'семнадца', 'мно', 'везд', 'же', 'ем', 'нужн', 'русск', 'плеч', 'дом', 'ноч', 'соб', 'ил', 'пор', 'круг', 'ран', 'до', 'знат', 'девятнадца', 'счита', 'этот', 'буд', 'четыр', 'то', 'главн', 'назад', 'народ', 'год', 'важн', 'двадцат', 'под', 'не', 'сеа', 'стол', 'маленьк', 'почт', 'седьм', 'ног', 'все', 'тысяч', 'врем', 'четверт', 'хочеш', 'девя', 'обычн', 'правд', 'некотор', 'c', 'пот', 'сем', 'сторон', 'втор', 'однажд', 'впроч', 'стран', 'раз', 'взгляд', 'долг', 'жизн', 'нача', 'вокруг', 'имет', 'хот', 'шестнадцат', 'понима', 'сих', 'немн', 'ег', 'минут', 'одиннадца', 'окн', 'тут', 'дела', 'девят', 'дорог', 'вдруг', 'нередк', 'может', 'отец', 'глаз', 'низк', 'откуд', 'сейчас', 'зач', 'будут', 'пятнадцат', 'пол', 'тольк', 'получ', 'мож', 'ест', 'трет', 'зат', 'найт', 'но', 'за', 'м', 'лучш', 'посмотрет', 'особен', 'слов', 'рук', 'далек', 'явля', 'снача', 'я', 'нам', 'совс', 'ряд', 'них', 'девятнадцат', 'иногд', 'вы', 'во', 'быв', 'сам', 'вмест', 'росс', 'лиц', 'ну', 'довольн', 'советск', 'на', 'мне', 'дел', 'нх', 'долж', 'отовсюд', 'знач', 'человек', 'идт', 'пок', 'стал', 'деньг', 'непрерывн', 'котор', 'шест', 'им', 'мест', 'о', 'комнат', 'част', 'вниз', 'сегодн', 'перв', 'вопрос', 'слишк', 'миллион', 'одн', 'вс', 'моч', 'про', 'вод', 'тем', 'вообщ', 'двер', 'посред', 'нас', 'когд', 'имел', 'те', 'работа', 'наш', 'пятнадца', 'наверх', 'действительн', 'кажд', 'прот', 'окол', 'со', 'был', 'поня', 'мир', 'умет', 'вон', 'люб', 'имеет', 'два', 'каза', 'дат', 'туд', 'никт', 'тот', 'прост', 'ответ', 'ждат', 'всегд', 'прекрасн', 'дума', 'чег', 'писа', 'подума', 'быт', 'эт', 'уж', 'из', 'улиц', 'он', 'чащ', 'всег', 'та', 'земл', 'должн', 'жен', 'кем', 'видел', 'куд', 'двенадцат', 'наконец', 'очен', 'быва', 'тринадца', 'никак', 'нескольк', 'где', 'могут', 'меньш', 'мы', 'выйт', 'двенадца', 'мног', 'восемнадцат', 'час', 'наибол', 'хорош', 'взят', 'сво', 'ваш', 'лет', 'мим', 'чтоб', 'там', 'разв', 'так', 'тогд', 'тож', 'вся', 'деся', 'видет', 'женщин', 'нем', 'опя', 'времен', 'вед', 'вдал', 'кажет', 'подойд', 'тех', 'три', 'конец', 'оказа', 'близк', 'есл', 'вот', 'утр', 'том', 'увидет', 'шестнадца', 'имен', 'будеш', 'и', 'зан', 'конечн', 'ещ', 'даж', 'мат', 'зде', 'нельз', 'нег', 'вас', 'семнадцат', 'москв', 'отсюд', 'ним', 'спасиб', 'реш', 'можх', 'от', 'смотрет', 'всех', 'стоя', 'мо', 'раньш', 'жит', 'мор', 'вверх', 'многочислен', 'дава', 'ид', 'мен', 'об', 'десят', 'хотел', 'с', 'занят', 'четырнадцат', 'двух', 'люд', 'да', 'двадца', 'через', 'четырнадца', 'лежа', 'чут', 'спрос', 'себ', 'ничт', 'всю', 'что', 'нов', 'можн']








if __name__=="__main__":


    doc = """Макаронные изделия подорожали в Казани на 12% — Реальное время Новости Аналитика Фотогалерея Мероприятия Спорт Кейсы Ru En Атаки «телефонных террористов» Крутое пике «ВИМ-Авиа» Банковский кризис в РТ Уроки татарского Все сюжеты Новости 17:46 МСК <strong>17:43</strong> ​МЧС: Короткое замыкание в казанском метро могло произойти из-за кондиционера <strong>17:33</strong> Минниханов открыл отремонтированные участки трассы М-7 и Московский проспект в Набережных Челнах <strong>17:13</strong> Казанский «Ак Барс» на выезде обыграл китайский «Куньлунь Ред Стар» <strong>16:59</strong> Собчак предложила провести в Крыму новый референдум <strong>16:41</strong> «Татнефть» собирается увеличить добычу в РТ до 35 миллионов тонн нефти в год <strong>16:36</strong> Парламент Каталонии проголосовал за независимость от Испании <strong>16:30</strong> Первый том энциклопедии «Населенные пункты Республики Татарстан» выйдет в 2018 году <strong>16:23</strong> ​Пресс-секретарь казанского райсуда получила статус судьи <strong>16:20</strong> В Казани установят мемориальную доску в честь мецената Якова Шамова <strong>15:58</strong> Глава МВД РФ вручил Рифкату Минниханову медаль ордена «За заслуги перед Отечеством» 1-й степени. <strong>15:31</strong> Приволжская транспортная прокуратура проверит возможный инцидент с самолетом из Нижнекамска <strong>15:10</strong> Абызов: три миллиона россиян потеряют работу из-за новых технологий <strong>14:57</strong> Призовой фонд ЧМ-2018 в России составит 400 миллионов долларов <strong>14:36</strong> Директора РАМТ Софью Апфельбаум отправили под домашний арест до 26 декабря по делу «Седьмой студии» <strong>14:24</strong> В дом 10-1 в «Салават купере» заселят 400 соципотечников <strong>14:00</strong> Правительство РФ разрешило ввоз в Россию томатов из Турции с 1 ноября <strong>13:54</strong> Россия включила в список продэмбарго живых свиней и субпродукты <strong>13:32</strong> Центробанк снизил ключевую ставку до 8,25% <strong>13:28</strong> В Казани открыли расширенный участок дороги в Салмачи <strong>13:07</strong> Mail.ru Group сообщила о рекордном за пять лет росте выручки <strong>13:04</strong> Глава Минфина РФ посоветовал россиянам не вкладываться в долевое строительство‍ <strong>12:54</strong> В России стартовали продажи нового кроссовера-купе Haval H6 <strong>12:35</strong> «Промсвязьбанк» и банк «Возрождение» решили отложить объединение <strong>12:29</strong> «Левада-центр»: электоральный рейтинг Ксении Собчак не превышает 1% <strong>12:17</strong> Четыре сборные — участники ЧМ-2018 хотят разместиться в Казани <strong>11:59</strong> Госдума РФ приняла поправки в бюджет на 2017 год <strong>11:56</strong> Sberbank CIB: новые санкции США могут повлиять на КАМАЗ и АвтоВАЗ <strong>11:41</strong> Казанский суд приговорил партнера Павла Сигала Галину Сизову к четырем годам заключения и штрафу в 500 тысяч рублей <strong>11:38</strong> ​Минниханов: «Мы придем к решению проблемы изучения родных языков в соответствии с конституционными нормами» <strong>11:19</strong> Татарстанское УФАС оштрафовало «Магнит» на 400 тысяч рублей за ненадлежащую рекламу алкоголя <strong>11:16</strong> Ирландская «дочка» ВЭБа и авиакомпания «Россия» подали в Арбитражный суд РТ иски против «ВИМ-Авиа» <strong>11:14</strong> ФАС ожидает отмены национального роуминга в ноябре — декабре 2017 года <strong>10:52</strong> Генеральным директором «ВИМ-Авиа» назначен бывший замглавы «Трансаэро» <strong>10:35</strong> ​Экс-главу «Камаспецстрой» подозревают в неуплате налогов на 12,8 млн рублей <strong>10:30</strong> Замглавы МВД России Александр Махонов подал в отставку из-за ареста подчиненного <strong>10:28</strong> Путин в рамках учений запустил четыре баллистические ракеты <strong>10:12</strong> В России половина студентов совмещают учебу с работой <strong>10:10</strong> ​В Казани стартовал судебный процесс по делу о пытке «ласточкой» <strong>09:43</strong> Экс-глава УФСИН по РТ Дауфит Хамадишин назначен помощником премьер-министра РТ <strong>09:30</strong> СМИ сообщили о сходстве логотипа воронежского парка с эмблемой Года парков и скверов в Татарстане <strong>09:04</strong> В США опубликовали около трех тысяч документов об убийстве Кеннеди <strong>08:46</strong> Правительство РФ установило порядок подтверждения соответствия персональных данных абонентов <strong>08:30</strong> Во временную администрацию «ФК «Открытие»» перешли 23 менеджера ВТБ24 <strong>07:58</strong> Эксперты Group-IB обнаружили связь между вирусами BadRabbit и NotPetya <strong>07:45</strong> Правительство РФ утвердило план организации отдыха и оздоровления детей до 2020 года <strong>07:28</strong> «ЭРА-ГЛОНАСС» с 2018 года сможет передавать данные о ДТП напрямую страховщику <strong>06:58</strong> Банк России сообщил о сокращении числа финансовых пирамид на 16% за три квартала 2017 года <strong>06:42</strong> Назарбаев подписал указ о переводе алфавита казахского языка на латиницу <strong>06:28</strong> В Великобритании испытали сверхзвуковой автомобиль мощностью 135000 лошадиных сил <strong>05:59</strong> Зампред ЦБ РФ: банковский сектор России прошел основную фазу очищения Все новости Аналитика Макаронные изделия подорожали в Казани на 12% 03:34, 27.10.2017 <img src="/uploads/news/63/69/958fb209089c4948.jpg" width="660" height="405" alt="Макаронные изделия подорожали в Казани на 12%"> Фото: pixabay.com <p>С начала октября цена на макаронные изделия в крупнейших торговых сетях столицы Татарстана повысилась на 12%, составив 103 рубля за килограмм.</p><p>Индекс продовольственной корзины «Реального времени» на 27 октября составил 5 179 рублей, увеличившись с начала месяца на 0,1%, но снизившись с начала года на 3,4%.</p><p>Аналитическая служба «Реального времени» ведет ежедневный мониторинг цен на 11 категорий товаров, состоящих из 43 наименований, в магазинах крупнейших торговых сетей Казани: «Пятерочка», «Магнит», «Эдельвейс» и «Бахетле». Результатом исследования является индекс продовольственной корзины — стоимость минимального набора продуктов, состав которого утвержден Постановлением Правительства Российской Федерации от 29 января 2013 г. № 56, рассчитанный по методике аналитической службы «Реального времени».<br> <br> </p> Аналитика Бизнес Розничная торговля { "@context": "http://schema.org", "@type": "NewsArticle", "datePublished": "2017-10-27T03:34:00+0300", "dateModified": "1970-01-01T03:00:00+0300", "headline": "Макаронные изделия подорожали в Казани на 12%", "description": "С начала октября цена на макаронные изделия в крупнейших торговых сетях столицы Татарстана повысилась на 12%, составив 103 рубля за килограмм.Индекс продовольственной корзины «Реального времени» на 27 октября составил 5 179 рублей, увеличившись с начала месяца на 0,1%, но снизившись с начала года на 3,4%.Аналитиче", "mainEntityOfPage" : "https://realnoevremya.ru/news/80069-makaronnye-izdeliya-podorozhali-v-kazani-na-12", "author": { "@type": "Person", "name": "Интернет-газета «Реальное время»" }, "publisher": { "@type": "Organization", "name": "ООО «Реальное время»", "logo" : { "@type" : "ImageObject", "url": "https://realnoevremya.ru/assets/journal/images/logo@2x.png", "height": "300", "width": "64" } }, "image" : { "@type": "ImageObject", "url": "https://realnoevremya.ru/uploads/news/63/69/958fb209089c4948.jpg", "height": "660", "width": "405" } } комментарии 0 комментарии <p>Пока никто не оставил комментарий, будьте первым</p> Войти через соцсети Свернуть комментарии Читайте также <img src="/uploads/articles/80/c6/bb2ec90ab3321d0d.thumb.jpg" width="300" height="184" alt="pic"> Промышленность 07:00 <em class="comments">2</em> <strong>Как татарстанская нефтехимия взяла паузу из-за капремонтов</strong> <img src="/uploads/articles/91/95/93bf76453f31e643.thumb.jpg" width="300" height="184" alt="pic"> Бизнес 07:00 <em class="comments">2</em> <strong>Экс-глава «Ривьеры» судится с бывшим работодателем по займу «Татфондбанка»</strong> Иван Войтко требует признать недействительной последнюю редакцию договора о его поручительстве по займу развлекательного комплекса <img src="/uploads/articles/69/96/f5fe33aede393337.thumb.jpg"> Общество <strong class="title">«Татарстан сейчас не в тренде, но сломать его модель никто не решится»</strong> 16 окт, 07:00 <em class="comments">18</em> <img src="/uploads/articles/73/46/0d038e0f0794f62d.thumb.jpg" width="300" height="184" alt="pic"> Недвижимость 18 окт, 07:00 <em class="comments">40</em> <strong>Осторожно, долгострой: как не стать обманутым дольщиком</strong> Топ актуальных советов при покупке квартиры в новостройке <img src="/uploads/articles/da/9f/3cb99e064aeb567a.thumb.jpg" width="300" height="184" alt="pic"> 14:20 <em class="comments">2</em> <strong>На «Казаньоргсинтезе» реконструировали шламовые и иловые площадки</strong> Реконструкция биологических очистных сооружений позволит «Казаньоргсинтезу» сократить забор воды из Волги <img src="/uploads/articles/b3/c7/831c1237a5a393b6.thumb.jpg" width="300" height="184" alt="pic"> Общество 07:00 <em class="comments">6</em> <strong>Рецензия на «Матильду»: фуэте под развесистой клюквой</strong> <img src="/uploads/articles/c3/95/b65dcc10dc1ebdfb.thumb.jpg" width="300" height="184" alt="pic"> Недвижимость 12:11 <em class="comments">3</em> <strong>Для Равиля Зиганшина настало время собирать дамбы</strong> Связанные с бизнесменом компании завоевали большую часть берегов в Казани <img src="/uploads/articles/ba/3a/5ff848c161765a72.thumb.jpg" width="300" height="184" alt="pic"> Общество 26 окт, 13:00 <em class="comments">39</em> <strong>Рустам Минниханов и Минтимер Шаймиев — о сохранении татарского языка в школах</strong> <img src="/uploads/articles/7b/bc/2d7fb2834066d1d3.thumb.jpg" width="300" height="184" alt="pic"> Общество 24 окт, 12:00 <em class="comments">187</em> <strong>Миллион за татарский: мама из Казани потребовала возместить моральный ущерб за изучение сыном неродного языка</strong> От языкового конфликта чаще страдают рядовые педагоги и директора школ <img src="/uploads/articles/6f/7b/8f5eb6ee3c9a0ba1.thumb.jpg" width="300" height="184" alt="pic"> Общество 17:30 <strong>Рустам Минниханов: «При отсутствии российской Конституции законотворческую инициативу проявили субъекты»</strong> В Казани отметили 25-летие главного закона Татарстана, вспоминая о наболевшем — языковой проблеме Рекомендуем <img src="/uploads/slider/88/32/ba440d7d44dd5d4a.jpg" width="300" height="184" alt="pic"> <img src="/uploads/slider/f4/4e/bc3add9f24f07852.jpg" width="300" height="184" alt="pic"> <img src="/uploads/slider/79/f3/e7a7f438042f5fd6.jpg" width="300" height="184" alt="pic"> <img src="/uploads/slider/8f/1f/6a7c07233070b7fe.jpg" width="300" height="184" alt="pic"> <img src="/uploads/slider/fc/a3/5f705f218ee65c57.jpg" width="300" height="184" alt="pic"> Что читаете прямо сейчас? <p>Бизнесмены рассказывают, какая книга лежит у них на прикроватном столике</p> Наши за границей <p>«Реальное время» составляет карту мигрантов из нашей республики и выясняет — каково жить и работать в другой стране</p> Бизнес-задачник «Реального времени» <p>Реальные кейсы - свежие мысли</p> Бизнес-бранчи "Реального времени" <p>Читайте отчеты с отраслевых круглых столов </p> Топ актуальных советов при покупке квартиры в новостройке <p>Осторожно, долгострой: как не стать обманутым дольщиком</p> <br class="clear"> <br> 18+ Тел: +7 (843) 222-90-80 <br> <img src="https://informer.yandex.ru/informer/28732741/3_0_EFEFEFFF_EFEFEFFF_0_uniques" style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" /> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter28732741 = new Ya.Metrika({ id:28732741, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); <img src="//mc.yandex.ru/watch/28732741" style="position:absolute; left:-9999px;" alt=""/> <p>&copy; 2015 - 2017 Реальное время.<br> Использование материалов Реального Времени разрешено только с предварительного согласия правообладателей.</p> <p>Свидетельство о регистрации Эл &#8470; ФС77&mdash;59331 от «18» сентября 2014 г. выдано Федеральной службой по надзору в сфере связи, информационных технологий и массовых коммуникаций (Роскомнадзор).</p> Подпишитесь на новости <img alt="Orphus" src="/assets/journal/images/orphus.png" border="0" width="88" height="31"/> Нашли опечатку?<br> Выделите текст и нажмите: Ctrl+Enter Мобильная версия Редакция Реклама Правовая информация Описание Сделано в Alto Vision <p>&laquo;Реальное время&raquo; ― интернет-газета деловых новостей и отраслевой аналитики, актуальной информации о развитии экономики и технологий в Татарстане, России и мире. </p> <p>Ежедневно редакция &laquo;Реального времени&raquo; готовит материалы и интервью с лидерами различных отраслей и рынков на самые актуальные темы.</p> Благодаря работе аналитического отдела газета публикует собственные рейтинги, рэнкинги, индексы, а также подробные аналитические исследования, формирующие максимально полную картину рынка для читателя. (function (i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m) })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga'); ga('create', 'UA-60264422-1', 'auto'); ga('send', 'pageview'); var trackOutboundLink = function(url) { ga('send', 'event', 'outbound', 'click', url, { 'transport': 'beacon', 'hitCallback': function(){document.location = url;} }); } var _tmr = _tmr || []; _tmr.push({id: "2621760", type: "pageView", start: (new Date()).getTime()}); (function (d, w) { var ts = d.createElement("script"); ts.type = "text/javascript"; ts.async = true; ts.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//top-fwz1.mail.ru/js/code.js"; var f = function () { var s = d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ts, s); }; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window); <img src="//top-fwz1.mail.ru/counter?id=2621760;js=na" style="border:0;" height="1" width="1" alt="Рейтинг@Mail.ru"/> /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */ var disqus_shortname = 'realnoevremya'; // required: replace example with your forum shortname /* * * DON'T EDIT BELOW THIS LINE * * */ (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); <img src="https://counter.rambler.ru/top100.cnt?4420405" alt="Rambler's Top100" border="0" /> { "@context": "http://schema.org", "@type": "WebSite", "name": "Новости, спорт, аналитика и деловые новости", "alternateName": "Онлайн-газета «Реальное время»", "url": "https://realnoevremya.ru", "description": "Интернет-газета Реальное время ― новости Казани, Татарстана и России. Деловые новости, аналитика и актуальная информация о развитии экономики и технологий.", "keywords": "новости, новости казани и татарстана, новости россии, спорт, политика, экономика, финансы, бизнес газета, курсы валют, исследование", "typicalAgeRange": "18+", "image": "/assets/journal/images/logo@2x.png", "sameAs": [ "https://vk.com/realnoevremya_official", "https://twitter.com/realnoevremya", "https://www.facebook.com/realnoevremya", "https://www.youtube.com/channel/UCvH2Z058LcWD3TwLGPHx5SA" ], "sourceOrganization": { "@type": "Organization", "description": "Интернет-газета Реальное время ― новости Казани, Татарстана и России. Деловые новости, аналитика и актуальная информация о развитии экономики и технологий.", "url": "https://realnoevremya.ru", "name": "ООО «Реальное время»", "telephone": "+7 (843) 222-90-80", "email" : "info@realnoevremya.ru", "location":{ "@type": "Place", "geo": { "@type": "GeoCoordinates", "latitude": "55.790256", "longitude": "49.154598" } }, "address": { "@type": "PostalAddress", "addressCountry": "Россия", "addressRegion": "Татарстан", "addressLocality": "Казань", "postalCode": "420097", "streetAddress": "ул. Академическая, 2, 5 этаж" }, "contactPoint" : [ { "@type" : "ContactPoint", "telephone" : "+7 (843) 222-90-80", "name" : "Редакция", "contactType" : " customer service", "email" : "info@realnoevremya.ru" }, { "@type" : "ContactPoint", "telephone" : "+7 (843) 222-90-70", "name" : "Коммерческий департамент", "contactType" : "sales", "email" : "reklama@realnoevremya.ru" } ] } } var LANGUAGE = "ru";" """



    tok = tokenize.toktok.ToktokTokenizer()
    tok = RuTok()
    tokens = tok.tokenize(doc)

    import numpy
    w2v = numpy.load("../res/voc.npy")

    # f_tok = [1 if token in w2v else 0 for token in tokens]
    #
    # for t_id,token in enumerate(tokens):
    #     print(token," ",f_tok[t_id],end=" ")
    #
    # print("\nCoverage %f"%(sum(f_tok)/len(tokens)))



    # word = "развитии"
    # print(word, word_normalize(word))
